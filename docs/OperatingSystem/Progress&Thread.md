
### <font size=3pt face="MV Boli" color="gray">By Ruicheng Zhang</font>

# 进程、线程、协程

## 进程

每个进程各自有不同的用户地址空间



### 进程的通信方式

**任何一个进程的全局变量在另一个进程中都看不到，所以进程之间要交换数据必须通过内核，在内核中开辟一块缓冲区，进程A把数据从用户空间拷到内核缓冲区，进程B再从内核缓冲区把数据读走，内核提供的这种机制称为进程间通信。**

- 信号
  - 用于通知接收进程某个事件已经发生
- 管道
  - 半双工的通信方式
  - 通过匿名管道实现进程间通信的步骤如下：
    - 父进程创建管道，得到两个⽂件描述符指向管道的两端
    - 父进程fork出子进程，⼦进程也有两个⽂件描述符指向同⼀管道。
    - 父进程关闭fd[0]，子进程关闭fd[1]，即⽗进程关闭管道读端，⼦进程关闭管道写端（因为管道只支持单向通信）。⽗进程可以往管道⾥写，⼦进程可以从管道⾥读，管道是⽤环形队列实现的，数据从写端流⼊从读端流出，这样就实现了进程间通信。
- 有名管道通信（命名管道通信）
  - 允许无亲缘关系进程间的通信
- 消息队列
  - 消息队列是由消息的链表，存放在内核中并由消息队列标识符标识。消息队列克服了信号传递信息少、管道只能承载无格式字节流以及缓冲区大小受限等缺点。
- 共享内存（Shared Memory）
  - 共享内存就是映射一段能被其他进程所访问的内存，这段共享内存由一个进程创建，但多个进程都可以访问。共享内存是最快的 IPC 方式，它是针对其他进程间通信方式运行效率低而专门设计的。它往往与其他通信机制，如信号两，配合使用，来实现进程间的同步和通信
- 套接字
  - 可用于不同机器间进程通信

## 线程

## 协程



# 死锁



