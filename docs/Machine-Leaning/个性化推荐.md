# 基于购物车数据的个性化推荐

### 1. 基于用户历史购买记录的聚类+统计学推荐

数据会更加偏重分析用户的特征，涵盖其购买的行为和历史记录，在“人以群分”之后，目标用户的购买倾向往往会与其邻居相同，此时可将邻居购买过而目标用户未尝试过的商品推荐给目标用户，这样的推荐会更加高效。

比如说，对历史购买记录分析后，发现某一用户群体经常购买宠物用品，即说明这些客户家中有饲养宠物，通过统计分析发现大部分养宠物的人都买了某种非耐用品，例如狗零食，便可将这个商品推荐给其他没有买过这个商品的客户。之后也可多向这一用户群体多推荐新上架的宠物用品，或投放宠物医院的广告。

算法思想：

1. 使用PCA提取用户的主要特征；
2. 使用t-SNE降维可视化在二维平面上对用户进行聚类；
3. 使用统计学对相近的用户分析，找出规律；
4. 对特定的用户推荐目标商品；

需要分析的数据：

​	用户编号user_id、订单编号order_id、用户特征【星期几以及几点下单、一半间隔几天再次购买、购买商品的大类（department）小类（aisle）、是否会回购、数量】

概念：

- PCA：主成分分析，主流的降维算法，可以从高维数据中找到一个紧凑的表示，而不丢失太多信息。在本算法中由于t-SNE收敛速度慢，因此会先选用PCA将数据降到较低的维度，然后再用t-SNE降维，以加快算法求解速度。
- t-SNE：在降维算法中，t-SNE更能体现样本间的差异性，因此常用于在二维平面内展现非监督学习后的聚类可视化。算法本身原理是通过梯度下降并迭代的方式优化聚类效果，特征相近的样本点会相互吸引，因此特别适合用于寻找消费习惯相近的群体。



### 2. 基于用户的协同过滤

该算法不会用到聚类，而是直接使用Jaccard公式或余弦相似度计算客户之间的相似度。以相似度为指标找到与目标客户兴趣相似的用户集合。然后找到集合中客户经常购买而目标客户没有购买过的物品推荐给目标客户。

算法思想：

1. 计算两两用户之间的相似度$W_{uv}$；
2. 选出与目标用户相似度最低的$k$个其他客户；
3. 找到$k$个其他客户经常购买，而目标客户没有购买过的物品推荐给目标客户；

概念：

	- Jaccard公式：

$$
W_{uv}=\frac{|N(u)\cap N(v)|}{|N(u)\cup N(v)|}
$$



### 3. 基于物品的协同过滤

这个算法会更加关注于物品的属性，计算物品的相似度，然后根据消费者之前的消费记录，找到与之相似的物品进行推荐。不过在购物场景中消费者有对品牌的倾向性，不会轻易尝试其他牌子的同类商品，因此不推荐使用这种算法。

 



